<breadcrumb
  [title]="'Customers'"
  [titleLink]="'/member/customers'"
  [subtitle]="'List'"
/>

<div class="row">
  <div class="col-lg-12">
    <div class="card">
      <div class="card-header border-bottom border-dashed">
        <h4 class="card-title mb-0">List</h4>
      </div>

      <div class="card-body">
        <div class="mb-3 row">
          <div class="col-xl-3">
            <input
              id="table-filtering-search"
              class="form-control"
              type="text"
              [(ngModel)]="filter"
              (ngModelChange)="onSearch()"
            />
          </div>
        </div>
        <table class="table">
          <thead>
            <tr>
              <th scope="col" style="text-align: center">No.</th>
              <th scope="col" style="text-align: center">Customer ID.</th>
              <th scope="col" style="text-align: center">Phone</th>
              <th scope="col" style="text-align: center">Name</th>
              <th scope="col" style="text-align: center">First Name</th>
              <th scope="col" style="text-align: center">Last Name</th>
              <th scope="col" style="text-align: center">Phone Other</th>
              <th scope="col" style="text-align: center">Created Date</th>
              <th scope="col" style="text-align: center">Details</th>
            </tr>
          </thead>
          <tbody>
            @for (item of searchCountries; track item.id; let i = $index) {
              <tr>
                <td style="text-align: center">
                  {{ (page - 1) * pageSize + (i + 1) }}
                </td>
                <td style="text-align: center">{{ item.id }}</td>
                <td style="text-align: center">
                  <ngb-highlight
                    [result]="item.phone | phoneFormat"
                    [term]="filter"
                  />
                </td>
                <td style="text-align: center">
                  <ngb-highlight [result]="item.name" [term]="filter" />
                </td>
                <td style="text-align: center">
                  <ngb-highlight [result]="item.firstname" [term]="filter" />
                </td>
                <td style="text-align: center">
                  <ngb-highlight [result]="item.lastname" [term]="filter" />
                </td>
                <td style="text-align: center">
                  {{ item.phoneOther | phoneFormat }}
                </td>
                <td style="text-align: center">{{ item.createdDate }}</td>
                <td class="text-center">
                  <a
                    [routerLink]="['/member/customers', item.id]"
                    class="btn btn-sm bg-primary-subtle me-1"
                    data-bs-toggle="tooltip"
                    data-bs-original-title="View"
                  >
                    <i
                      class="mdi mdi-text-box-search-outline fs-14 text-primary"
                    ></i>
                  </a>
                </td>
              </tr>
            }
          </tbody>
        </table>
        <ngb-pagination
          class="d-flex justify-content-end"
          [collectionSize]="collectionSize"
          [(page)]="page"
          [pageSize]="pageSize"
          (pageChange)="onSearch()"
        >
        </ngb-pagination>
      </div>
    </div>
  </div>
</div>
